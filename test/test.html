<!DOCTYPE html>
<html lang="zh-cn">
<meta charset="utf-8">
<meta name="renderer" content="webkit"><!--360,以webkit内核进行渲染-->
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><!--以最新内核进行渲染。-->
<meta http-equiv="Cache-Control" content="no-siteapp"/><!--百度禁止转码-->
<title>moyu demo</title>
<meta name="keywords" content="demo 测试 魔芋">
<meta name="description" content="魔芋的测试示例">
<meta name="author" content="魔芋,15000720652@163.com,http://www.cnblogs.com/moyuling/">
<meta name="robots" content="index,follow"><!--定义网页搜索引擎索引方式-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="http://libs.baidu.com/jquery/1.9.1/jquery.js"></script>
<script type="text/javascript" src="http://api.map.baidu.com/getscript?v=2.0&ak=gI2hIGXv3Ipp8EWbxzPFGz7Sq3EYo4Ai&services=&t=20171212143337"></script>
<style>
    body, html {width:100%;}
    #allmap {width:100%;height:400px;overflow: hidden;margin:0;font-family:"微软雅黑";}
    input {width:200px;height:30px;color:#000;}
</style>
</head>
<body>
<div id="allmap"></div>
<input type="button"class="add" value="添加跳动的动画" onclick ="addOne()"/>
<input type="button"class="add" value="添加坠落动画" onclick="addTwo()"/>
<input type="button"class="add" value="清除动画" onclick="clearlay()"/>
<script>
    var map =new BMap.Map("allmap");
    var point =new BMap.Point(116.404,39.915);
    map.centerAndZoom(point,15);
    function addOne (){
        map.clearOverlays();
        var marker =new BMap.Marker(point);// 创建标注
        map.addOverlay(marker);// 将标注添加到地图中
        marker.setAnimation(BMAP_ANIMATION_BOUNCE);//跳动的动画
    }
    function addTwo (){
        map.clearOverlays();
        var marker =new BMap.Marker(point);// 创建标注
        map.addOverlay(marker);// 将标注添加到地图中
        marker.setAnimation(BMAP_ANIMATION_DROP);//坠落动画
    }
    function clearlay(){
        map.clearOverlays();
    }
</script>
</body>
</html>